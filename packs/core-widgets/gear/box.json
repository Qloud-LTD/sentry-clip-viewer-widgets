{
  "$schema": "widget-v1.json",
  "id": "gear.gearBox",
  "version": "1.0.0",
  "category": "gear",
  "name": "Gear Box",
  "description": "Gear letter in a square box with color-coded background",
  "author": "Built-in",

  "canvas": {
    "aspectRatio": 1.0,
    "minWidth": 0.04,
    "minHeight": 0.04
  },

  "bindings": {
    "boxColor": {
      "conditions": [
        { "when": "{{gear.letter == 'D'}}", "value": "#00CC00" },
        { "when": "{{gear.letter == 'R'}}", "value": "#FF3B30" },
        { "when": "{{gear.letter == 'P'}}", "value": "#007AFF" },
        { "when": "{{gear.letter == 'N'}}", "value": "#FF9500" }
      ],
      "default": "#8E8E93"
    }
  },

  "elements": [
    {
      "type": "roundedRect",
      "size": { "width": "80%", "height": "80%" },
      "position": { "x": "50%", "y": "50%" },
      "cornerRadius": "15%",
      "fill": "{{boxColor}}",
      "opacity": 0.4
    },
    {
      "type": "text",
      "content": "{{gear.letter ?? '-'}}",
      "position": { "x": "50%", "y": "50%" },
      "anchor": "center",
      "style": {
        "fontSize": "50%h",
        "fontWeight": "bold",
        "fontDesign": "rounded",
        "color": "#FFFFFF"
      }
    }
  ]
}
